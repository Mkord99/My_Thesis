2025-06-23 21:18:38,081 - __main__ - INFO - Starting visibility path planning with grid aligned to building orientation (debug enabled)
2025-06-23 21:18:38,087 - __main__ - INFO - Initial memory usage - Memory usage: 108.25 MB
2025-06-23 21:18:38,087 - __main__ - INFO - Loading geometry data
2025-06-23 21:18:38,087 - __main__ - INFO - Building orientation analysis is enabled
2025-06-23 21:18:38,087 - __main__ - INFO - Debug visualization is enabled
2025-06-23 21:18:38,088 - __main__ - INFO - Before geometry loading - Memory usage: 108.25 MB
2025-06-23 21:18:38,088 - src.data_handler - INFO - Loading geometries from data/geometry.json
2025-06-23 21:18:38,089 - src.data_handler - WARNING - Building building1 has an invalid polygon
2025-06-23 21:18:38,090 - src.data_handler - INFO - Building orientation analysis is enabled
2025-06-23 21:18:38,093 - src.rotation_utils - INFO - Longest edge length: 20.00, angle with north: 180.00 degrees
2025-06-23 21:18:38,093 - src.rotation_utils - INFO - Target angle: 180 degrees
2025-06-23 21:18:38,093 - src.rotation_utils - INFO - Rotation angle needed: 0.00 degrees (clockwise)
2025-06-23 21:18:38,093 - src.rotation_utils - INFO - Rotation center: (50.45009752925878, 24.9712288686606)
2025-06-23 21:18:38,173 - src.data_handler - INFO - Saved orientation information to output/orientation/orientation_info.json
2025-06-23 21:18:38,173 - src.data_handler - INFO - Building orientation: Longest edge at 180.00째, Target angle 180째
2025-06-23 21:18:38,173 - src.data_handler - INFO - Grid alignment: Will use rotation angle of 0.00째 around (50.45009752925878, 24.9712288686606)
2025-06-23 21:18:38,414 - __main__ - INFO - After geometry loading - Memory usage: 165.98 MB
2025-06-23 21:18:38,414 - __main__ - INFO - Building the graph
2025-06-23 21:18:38,414 - __main__ - INFO - Before graph building - Memory usage: 165.98 MB
2025-06-23 21:18:38,414 - src.graph_builder - INFO - Building grid graph
2025-06-23 21:18:38,414 - src.graph_builder - INFO - Grid will be aligned with building orientation (rotated by -0.00째)
2025-06-23 21:18:38,431 - src.graph_builder - INFO - Generated 197 grid points
2025-06-23 21:18:39,017 - src.graph_builder - WARNING - The generated graph is not connected.
2025-06-23 21:18:39,017 - src.graph_builder - INFO - Created graph with 197 nodes and 1598 edges
2025-06-23 21:18:39,017 - __main__ - INFO - After graph building - Memory usage: 166.61 MB
2025-06-23 21:18:39,017 - __main__ - INFO - Analyzing visibility with normal vector approach
2025-06-23 21:18:39,017 - __main__ - INFO - Before visibility analysis - Memory usage: 166.61 MB
2025-06-23 21:18:39,017 - src.visibility_analyzer - INFO - Using 12 CPU cores for visibility analysis
2025-06-23 21:18:39,017 - src.visibility_analyzer - INFO - Using touch threshold of 0.1 meters
2025-06-23 21:18:39,017 - src.visibility_analyzer - INFO - Analyzing visibility
2025-06-23 21:18:39,017 - src.visibility_analyzer - INFO - Before segment creation - Memory usage: 166.61 MB
2025-06-23 21:18:39,033 - src.visibility_analyzer - INFO - Created 95 building segments with normal vectors
2025-06-23 21:18:39,033 - src.visibility_analyzer - INFO - Calculating edge-segment visibility using normal vector approach (parallelized)
2025-06-23 21:18:39,033 - src.visibility_analyzer - INFO - Before edge-segment visibility calculation - Memory usage: 166.61 MB
2025-06-23 21:18:39,033 - src.visibility_analyzer - INFO - Dividing 95 segments into 12 chunks for parallel processing
2025-06-23 21:18:40,993 - src.visibility_analyzer - INFO - After edge-segment visibility calculation - Memory usage: 171.36 MB
2025-06-23 21:18:40,993 - src.visibility_analyzer - INFO - Calculating particle-based visibility using normal vector approach (parallelized)
2025-06-23 21:18:40,993 - src.visibility_analyzer - INFO - Before particle visibility calculation - Memory usage: 171.36 MB
2025-06-23 21:18:40,994 - src.visibility_analyzer - INFO - Dividing 1598 edges into 12 chunks for parallel processing
2025-06-23 21:19:20,571 - src.visibility_analyzer - INFO - After particle visibility calculation - Memory usage: 172.36 MB
2025-06-23 21:19:20,574 - src.visibility_analyzer - INFO - Saved segment visibility to output/visibility/segment_visibility.csv
2025-06-23 21:19:20,575 - src.visibility_analyzer - INFO - Saved edge visibility to output/visibility/edge_visibility.csv
2025-06-23 21:19:20,576 - __main__ - INFO - After visibility analysis - Memory usage: 172.48 MB
2025-06-23 21:19:20,576 - __main__ - INFO - Creating thesis plots
2025-06-23 21:19:20,576 - __main__ - INFO - Creating thesis plots
2025-06-23 21:19:20,576 - src.graph_builder - INFO - Building original (non-rotated) grid graph for thesis plots
2025-06-23 21:19:21,301 - src.graph_builder - WARNING - The generated graph is not connected.
2025-06-23 21:19:21,301 - src.graph_builder - INFO - Created original graph with 197 nodes and 1598 edges
2025-06-23 21:19:21,302 - src.graph_builder - INFO - Building rotated grid graph for thesis plots
2025-06-23 21:19:22,024 - src.graph_builder - WARNING - The generated graph is not connected.
2025-06-23 21:19:22,024 - src.graph_builder - INFO - Created rotated graph with 197 nodes and 1598 edges
2025-06-23 21:19:22,024 - src.visualizer - INFO - Creating thesis plots
2025-06-23 21:19:22,958 - src.visualizer - INFO - Saved thesis plot 1 to output/thesis_plots/1_building_obstacles_footprint_20250623_211922.png
2025-06-23 21:19:24,140 - src.visualizer - INFO - Saved thesis plot 2 to output/thesis_plots/2_building_with_segments_20250623_211923.png
2025-06-23 21:19:25,313 - src.visualizer - INFO - Saved thesis plot 3 to output/thesis_plots/3_building_original_graph_20250623_211924.png
2025-06-23 21:19:26,530 - src.visualizer - INFO - Saved thesis plot 4 to output/thesis_plots/4_building_rotated_graph_20250623_211925.png
2025-06-23 21:19:26,530 - __main__ - INFO - Optimization is disabled in config - skipping optimization step
2025-06-23 21:19:26,530 - __main__ - INFO - Creating visualization without optimization results
2025-06-23 21:19:26,530 - src.visualizer - INFO - Creating visualization
2025-06-23 21:19:26,608 - src.visualizer - WARNING - No selected edges to plot
2025-06-23 21:19:28,573 - src.visualizer - INFO - Saved plot to output/plots/result_plot_20250623_211926.png
2025-06-23 21:19:32,420 - __main__ - INFO - Process completed successfully
2025-06-23 21:19:32,421 - __main__ - INFO - Before cleanup - Memory usage: 593.46 MB
2025-06-23 21:19:32,478 - __main__ - INFO - After cleanup - Memory usage: 206.93 MB
