2025-06-23 19:59:31,658 - __main__ - INFO - Starting visibility path planning with grid aligned to building orientation (debug enabled)
2025-06-23 19:59:31,665 - __main__ - INFO - Initial memory usage - Memory usage: 110.36 MB
2025-06-23 19:59:31,665 - __main__ - INFO - Loading geometry data
2025-06-23 19:59:31,666 - __main__ - INFO - Building orientation analysis is enabled
2025-06-23 19:59:31,666 - __main__ - INFO - Debug visualization is enabled
2025-06-23 19:59:31,666 - __main__ - INFO - Before geometry loading - Memory usage: 110.36 MB
2025-06-23 19:59:31,666 - src.data_handler - INFO - Loading geometries from data/geometry.json
2025-06-23 19:59:31,667 - src.data_handler - INFO - Building orientation analysis is enabled
2025-06-23 19:59:31,672 - src.rotation_utils - INFO - Longest edge length: 20.00, angle with north: 0.00 degrees
2025-06-23 19:59:31,672 - src.rotation_utils - INFO - Target angle: 0 degrees
2025-06-23 19:59:31,672 - src.rotation_utils - INFO - Rotation angle needed: 0.00 degrees (clockwise)
2025-06-23 19:59:31,672 - src.rotation_utils - INFO - Rotation center: (50.0, 24.758064516129032)
2025-06-23 19:59:31,774 - src.data_handler - INFO - Saved orientation information to output/orientation/orientation_info.json
2025-06-23 19:59:31,774 - src.data_handler - INFO - Building orientation: Longest edge at 0.00째, Target angle 0째
2025-06-23 19:59:31,774 - src.data_handler - INFO - Grid alignment: Will use rotation angle of 0.00째 around (50.0, 24.758064516129032)
2025-06-23 19:59:32,019 - __main__ - INFO - After geometry loading - Memory usage: 166.11 MB
2025-06-23 19:59:32,019 - __main__ - INFO - Building the graph
2025-06-23 19:59:32,020 - __main__ - INFO - Before graph building - Memory usage: 166.11 MB
2025-06-23 19:59:32,020 - src.graph_builder - INFO - Building grid graph
2025-06-23 19:59:32,020 - src.graph_builder - INFO - Grid will be aligned with building orientation (rotated by -0.00째)
2025-06-23 19:59:32,130 - src.graph_builder - INFO - Generated 198 grid points
2025-06-23 19:59:32,820 - src.graph_builder - WARNING - The generated graph is not connected.
2025-06-23 19:59:32,820 - src.graph_builder - INFO - Created graph with 198 nodes and 1588 edges
2025-06-23 19:59:32,821 - __main__ - INFO - After graph building - Memory usage: 166.74 MB
2025-06-23 19:59:32,821 - __main__ - INFO - Analyzing visibility with normal vector approach
2025-06-23 19:59:32,821 - __main__ - INFO - Before visibility analysis - Memory usage: 166.74 MB
2025-06-23 19:59:32,821 - src.visibility_analyzer - INFO - Using 12 CPU cores for visibility analysis
2025-06-23 19:59:32,821 - src.visibility_analyzer - INFO - Using touch threshold of 0.1 meters
2025-06-23 19:59:32,821 - src.visibility_analyzer - INFO - Analyzing visibility
2025-06-23 19:59:32,821 - src.visibility_analyzer - INFO - Before segment creation - Memory usage: 166.74 MB
2025-06-23 19:59:32,838 - src.visibility_analyzer - INFO - Created 96 building segments with normal vectors
2025-06-23 19:59:32,838 - src.visibility_analyzer - INFO - Calculating edge-segment visibility using normal vector approach (parallelized)
2025-06-23 19:59:32,838 - src.visibility_analyzer - INFO - Before edge-segment visibility calculation - Memory usage: 166.74 MB
2025-06-23 19:59:32,839 - src.visibility_analyzer - INFO - Dividing 96 segments into 12 chunks for parallel processing
2025-06-23 19:59:36,150 - src.visibility_analyzer - INFO - After edge-segment visibility calculation - Memory usage: 171.36 MB
2025-06-23 19:59:36,150 - src.visibility_analyzer - INFO - Calculating particle-based visibility using normal vector approach (parallelized)
2025-06-23 19:59:36,150 - src.visibility_analyzer - INFO - Before particle visibility calculation - Memory usage: 171.36 MB
2025-06-23 19:59:36,150 - src.visibility_analyzer - INFO - Dividing 1588 edges into 12 chunks for parallel processing
2025-06-23 20:00:21,995 - src.visibility_analyzer - INFO - After particle visibility calculation - Memory usage: 172.86 MB
2025-06-23 20:00:21,998 - src.visibility_analyzer - INFO - Saved segment visibility to output/visibility/segment_visibility.csv
2025-06-23 20:00:21,999 - src.visibility_analyzer - INFO - Saved edge visibility to output/visibility/edge_visibility.csv
2025-06-23 20:00:22,000 - __main__ - INFO - After visibility analysis - Memory usage: 172.99 MB
2025-06-23 20:00:22,000 - __main__ - INFO - Creating visibility heatmaps
2025-06-23 20:00:22,000 - src.visualizer - INFO - Creating visibility heatmaps
2025-06-23 20:00:22,005 - src.visualizer - INFO - Edge visibility range: 0 to 12 segments
2025-06-23 20:00:24,111 - src.visualizer - INFO - Saved edge visibility heatmap to output/visibility_heatmaps/1_edge_visibility_heatmap_20250623_200022.png
2025-06-23 20:00:24,115 - src.visualizer - INFO - Segment visibility range: 0 to 74 edges
2025-06-23 20:00:25,375 - src.visualizer - INFO - Saved segment visibility heatmap to output/visibility_heatmaps/2_segment_visibility_heatmap_20250623_200024.png
2025-06-23 20:00:25,379 - src.visualizer - INFO - Edge VRF range: 0.0000 to 1.2500
2025-06-23 20:00:27,596 - src.visualizer - INFO - Saved edge VRF heatmap to output/visibility_heatmaps/3_edge_vrf_heatmap_20250623_200025.png
2025-06-23 20:00:27,596 - __main__ - INFO - Optimization is disabled in config - skipping optimization step
2025-06-23 20:00:27,596 - __main__ - INFO - Creating visualization without optimization results
2025-06-23 20:00:27,596 - src.visualizer - INFO - Creating visualization
2025-06-23 20:00:27,803 - src.visualizer - WARNING - No selected edges to plot
2025-06-23 20:00:30,241 - src.visualizer - INFO - Saved plot to output/plots/result_plot_20250623_200027.png
2025-06-23 20:00:35,925 - __main__ - INFO - Process completed successfully
2025-06-23 20:00:35,925 - __main__ - INFO - Before cleanup - Memory usage: 230.71 MB
2025-06-23 20:00:35,973 - __main__ - INFO - After cleanup - Memory usage: 222.66 MB
