2025-06-23 20:02:41,065 - __main__ - INFO - Starting visibility path planning with grid aligned to building orientation (debug enabled)
2025-06-23 20:02:41,072 - __main__ - INFO - Initial memory usage - Memory usage: 111.54 MB
2025-06-23 20:02:41,072 - __main__ - INFO - Loading geometry data
2025-06-23 20:02:41,073 - __main__ - INFO - Building orientation analysis is enabled
2025-06-23 20:02:41,073 - __main__ - INFO - Debug visualization is enabled
2025-06-23 20:02:41,073 - __main__ - INFO - Before geometry loading - Memory usage: 111.54 MB
2025-06-23 20:02:41,073 - src.data_handler - INFO - Loading geometries from data/geometry.json
2025-06-23 20:02:41,074 - src.data_handler - INFO - Building orientation analysis is enabled
2025-06-23 20:02:41,078 - src.rotation_utils - INFO - Longest edge length: 20.00, angle with north: 0.00 degrees
2025-06-23 20:02:41,079 - src.rotation_utils - INFO - Target angle: 0 degrees
2025-06-23 20:02:41,079 - src.rotation_utils - INFO - Rotation angle needed: 0.00 degrees (clockwise)
2025-06-23 20:02:41,079 - src.rotation_utils - INFO - Rotation center: (50.0, 24.758064516129032)
2025-06-23 20:02:41,172 - src.data_handler - INFO - Saved orientation information to output/orientation/orientation_info.json
2025-06-23 20:02:41,172 - src.data_handler - INFO - Building orientation: Longest edge at 0.00째, Target angle 0째
2025-06-23 20:02:41,172 - src.data_handler - INFO - Grid alignment: Will use rotation angle of 0.00째 around (50.0, 24.758064516129032)
2025-06-23 20:02:41,401 - __main__ - INFO - After geometry loading - Memory usage: 166.09 MB
2025-06-23 20:02:41,401 - __main__ - INFO - Building the graph
2025-06-23 20:02:41,401 - __main__ - INFO - Before graph building - Memory usage: 166.09 MB
2025-06-23 20:02:41,401 - src.graph_builder - INFO - Building grid graph
2025-06-23 20:02:41,401 - src.graph_builder - INFO - Grid will be aligned with building orientation (rotated by -0.00째)
2025-06-23 20:02:41,419 - src.graph_builder - INFO - Generated 198 grid points
2025-06-23 20:02:42,011 - src.graph_builder - WARNING - The generated graph is not connected.
2025-06-23 20:02:42,011 - src.graph_builder - INFO - Created graph with 198 nodes and 1588 edges
2025-06-23 20:02:42,011 - __main__ - INFO - After graph building - Memory usage: 166.96 MB
2025-06-23 20:02:42,011 - __main__ - INFO - Analyzing visibility with normal vector approach
2025-06-23 20:02:42,011 - __main__ - INFO - Before visibility analysis - Memory usage: 166.96 MB
2025-06-23 20:02:42,011 - src.visibility_analyzer - INFO - Using 12 CPU cores for visibility analysis
2025-06-23 20:02:42,011 - src.visibility_analyzer - INFO - Using touch threshold of 0.1 meters
2025-06-23 20:02:42,012 - src.visibility_analyzer - INFO - Analyzing visibility
2025-06-23 20:02:42,012 - src.visibility_analyzer - INFO - Before segment creation - Memory usage: 166.96 MB
2025-06-23 20:02:42,027 - src.visibility_analyzer - INFO - Created 96 building segments with normal vectors
2025-06-23 20:02:42,028 - src.visibility_analyzer - INFO - Calculating edge-segment visibility using normal vector approach (parallelized)
2025-06-23 20:02:42,028 - src.visibility_analyzer - INFO - Before edge-segment visibility calculation - Memory usage: 166.96 MB
2025-06-23 20:02:42,028 - src.visibility_analyzer - INFO - Dividing 96 segments into 12 chunks for parallel processing
2025-06-23 20:02:45,931 - src.visibility_analyzer - INFO - After edge-segment visibility calculation - Memory usage: 171.59 MB
2025-06-23 20:02:45,931 - src.visibility_analyzer - INFO - Calculating particle-based visibility using normal vector approach (parallelized)
2025-06-23 20:02:45,931 - src.visibility_analyzer - INFO - Before particle visibility calculation - Memory usage: 171.59 MB
2025-06-23 20:02:45,932 - src.visibility_analyzer - INFO - Dividing 1588 edges into 12 chunks for parallel processing
2025-06-23 20:03:27,034 - src.visibility_analyzer - INFO - After particle visibility calculation - Memory usage: 172.96 MB
2025-06-23 20:03:27,038 - src.visibility_analyzer - INFO - Saved segment visibility to output/visibility/segment_visibility.csv
2025-06-23 20:03:27,039 - src.visibility_analyzer - INFO - Saved edge visibility to output/visibility/edge_visibility.csv
2025-06-23 20:03:27,040 - __main__ - INFO - After visibility analysis - Memory usage: 172.96 MB
2025-06-23 20:03:27,040 - __main__ - INFO - Creating visibility heatmaps (basic)
2025-06-23 20:03:27,040 - src.visualizer - INFO - Creating visibility heatmaps
2025-06-23 20:03:27,044 - src.visualizer - INFO - Edge visibility range: 0 to 12 segments
2025-06-23 20:03:28,941 - src.visualizer - INFO - Saved edge visibility heatmap to output/visibility_heatmaps/1_edge_visibility_heatmap_20250623_200327.png
2025-06-23 20:03:28,945 - src.visualizer - INFO - Segment visibility range: 0 to 74 edges
2025-06-23 20:03:30,033 - src.visualizer - INFO - Saved segment visibility heatmap to output/visibility_heatmaps/2_segment_visibility_heatmap_20250623_200329.png
2025-06-23 20:03:30,037 - src.visualizer - INFO - Edge VRF range: 0.0000 to 1.2500
2025-06-23 20:03:31,857 - src.visualizer - INFO - Saved edge VRF heatmap to output/visibility_heatmaps/3_edge_vrf_heatmap_20250623_200330.png
2025-06-23 20:03:31,858 - __main__ - INFO - Running path optimization
2025-06-23 20:03:31,858 - __main__ - INFO - Before optimization - Memory usage: 362.18 MB
2025-06-23 20:03:31,858 - __main__ - INFO - Running garbage collection before optimization
2025-06-23 20:03:31,917 - src.optimizer - INFO - Setting up optimization model
2025-06-23 20:03:31,917 - src.optimizer - INFO - Before optimization model creation - Memory usage: 211.71 MB
2025-06-23 20:03:31,917 - gurobipy - INFO - Set parameter Username
2025-06-23 20:03:31,918 - gurobipy - INFO - Set parameter LicenseID to value 2654881
2025-06-23 20:03:31,918 - gurobipy - INFO - Academic license - for non-commercial use only - expires 2026-04-21
2025-06-23 20:03:31,918 - gurobipy - INFO - Set parameter LazyConstraints to value 1
2025-06-23 20:03:31,918 - gurobipy - INFO - Set parameter MIPGap to value 0,0001
2025-06-23 20:03:31,923 - src.optimizer - WARNING - Segment 3 has no visible edges
2025-06-23 20:03:31,924 - src.optimizer - WARNING - Segment 7 has no visible edges
2025-06-23 20:03:31,933 - src.optimizer - INFO - Adding constraints for tie points: [98]
2025-06-23 20:03:31,933 - src.optimizer - INFO - Added tie point constraints for node 98
2025-06-23 20:03:31,933 - src.optimizer - INFO - Using original subtour elimination constraints
2025-06-23 20:03:33,667 - src.optimizer - INFO - Added 150324 subtour elimination constraints
2025-06-23 20:03:33,667 - src.optimizer - INFO - After optimization model setup - Memory usage: 225.21 MB
2025-06-23 20:03:33,667 - src.optimizer - INFO - Solving optimization model with progress monitoring
2025-06-23 20:03:33,686 - gurobipy - INFO - Gurobi Optimizer version 12.0.1 build v12.0.1rc0 (linux64 - "Ubuntu 22.04.5 LTS")
2025-06-23 20:03:33,686 - gurobipy - INFO - 
2025-06-23 20:03:33,686 - gurobipy - INFO - CPU model: 12th Gen Intel(R) Core(TM) i5-12450H, instruction set [SSE2|AVX|AVX2]
2025-06-23 20:03:33,686 - gurobipy - INFO - Thread count: 12 physical cores, 12 logical processors, using up to 12 threads
2025-06-23 20:03:33,686 - gurobipy - INFO - 
2025-06-23 20:03:33,686 - gurobipy - INFO - Non-default parameters:
2025-06-23 20:03:33,686 - gurobipy - INFO - LazyConstraints  1
2025-06-23 20:03:33,686 - gurobipy - INFO - 
2025-06-23 20:03:33,686 - gurobipy - INFO - Optimize a model with 150618 rows, 1588 columns and 318441 nonzeros
2025-06-23 20:03:33,688 - gurobipy - INFO - Model fingerprint: 0x3b89ee1c
2025-06-23 20:03:33,688 - gurobipy - INFO - Variable types: 0 continuous, 1588 integer (1588 binary)
2025-06-23 20:03:33,688 - gurobipy - INFO - Coefficient statistics:
2025-06-23 20:03:33,688 - gurobipy - INFO -   Matrix range     [1e+00, 1e+00]
2025-06-23 20:03:33,688 - gurobipy - INFO -   Objective range  [6e+00, 2e+07]
2025-06-23 20:03:33,688 - gurobipy - INFO -   Bounds range     [1e+00, 1e+00]
2025-06-23 20:03:33,688 - gurobipy - INFO -   RHS range        [1e+00, 2e+00]
2025-06-23 20:03:33,721 - gurobipy - INFO - Presolve removed 146141 rows and 0 columns
2025-06-23 20:03:33,721 - gurobipy - INFO - Presolve time: 0.02s
2025-06-23 20:03:33,721 - gurobipy - INFO - Presolved: 4477 rows, 1588 columns, 26189 nonzeros
2025-06-23 20:03:33,722 - gurobipy - INFO - Variable types: 0 continuous, 1588 integer (1588 binary)
2025-06-23 20:03:33,728 - gurobipy - INFO - Performing another presolve...
2025-06-23 20:03:33,750 - gurobipy - INFO - Presolve removed 25 rows and 0 columns
2025-06-23 20:03:33,750 - gurobipy - INFO - Presolve time: 0.02s
2025-06-23 20:03:33,766 - gurobipy - INFO - 
2025-06-23 20:03:33,767 - gurobipy - INFO - Root relaxation: objective 3.641137e+02, 68 iterations, 0.00 seconds (0.00 work units)
2025-06-23 20:03:33,772 - gurobipy - INFO - 
2025-06-23 20:03:33,773 - gurobipy - INFO -     Nodes    |    Current Node    |     Objective Bounds      |     Work
2025-06-23 20:03:33,773 - gurobipy - INFO -  Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time
2025-06-23 20:03:33,773 - gurobipy - INFO - 
2025-06-23 20:03:33,773 - gurobipy - INFO -      0     0  364.11366    0   48          -  364.11366      -     -    0s
2025-06-23 20:03:33,803 - gurobipy - INFO -      0     0  577.53535    0   66          -  577.53535      -     -    0s
2025-06-23 20:03:33,808 - gurobipy - INFO -      0     0  587.49089    0   68          -  587.49089      -     -    0s
2025-06-23 20:03:33,821 - gurobipy - INFO -      0     0  692.23990    0   47          -  692.23990      -     -    0s
2025-06-23 20:03:33,826 - gurobipy - INFO -      0     0  703.97330    0   41          -  703.97330      -     -    0s
2025-06-23 20:03:33,846 - gurobipy - INFO -      0     0  717.00189    0   25          -  717.00189      -     -    0s
2025-06-23 20:03:33,854 - gurobipy - INFO -      0     0  717.20507    0   28          -  717.20507      -     -    0s
2025-06-23 20:03:33,874 - gurobipy - INFO -      0     0  721.85588    0   42          -  721.85588      -     -    0s
2025-06-23 20:03:33,880 - gurobipy - INFO -      0     0  722.59322    0   42          -  722.59322      -     -    0s
2025-06-23 20:03:33,886 - gurobipy - INFO -      0     0  722.59322    0   41          -  722.59322      -     -    0s
2025-06-23 20:03:33,895 - gurobipy - INFO -      0     0  723.30811    0   22          -  723.30811      -     -    0s
2025-06-23 20:03:33,908 - gurobipy - INFO -      0     0  723.94875    0   43          -  723.94875      -     -    0s
2025-06-23 20:03:33,924 - gurobipy - INFO -      0     0  724.55488    0   43          -  724.55488      -     -    0s
2025-06-23 20:03:33,936 - gurobipy - INFO -      0     0  724.63724    0   41          -  724.63724      -     -    0s
2025-06-23 20:03:34,012 - gurobipy - INFO -      0     2  728.82151    0   37          -  728.82151      -     -    0s
2025-06-23 20:03:38,742 - gurobipy - INFO -   4972  4650 1353.21500  138  141          - 1073.96183      -   8.4    5s
2025-06-23 20:03:40,697 - gurobipy - INFO - H 5147  4529                    1.153182e+08 1134.97794   100%   9.2    7s
2025-06-23 20:03:40,703 - gurobipy - INFO - H 5147  4303                    1.153176e+08 1134.97794   100%   9.2    7s
2025-06-23 20:03:40,712 - src.optimizer - INFO - Optimization progress: 10160234.42% gap after 7.0 seconds
2025-06-23 20:03:40,712 - src.optimizer - INFO - Gap improved by inf% to 10160234.42%
2025-06-23 20:03:40,802 - src.optimizer - INFO - Gap improved by 129.37% to 10160105.05%
2025-06-23 20:03:40,808 - src.optimizer - INFO - Gap improved by 244.39% to 10159860.66%
2025-06-23 20:03:40,812 - src.optimizer - INFO - Gap improved by 10.57% to 10159850.09%
2025-06-23 20:03:40,815 - src.optimizer - INFO - Gap improved by 71.07% to 10159779.02%
2025-06-23 20:03:40,978 - src.optimizer - INFO - Gap improved by 6472.21% to 10153306.81%
2025-06-23 20:03:40,992 - src.optimizer - INFO - Gap improved by 5531.01% to 10147775.79%
2025-06-23 20:03:40,998 - src.optimizer - INFO - Gap improved by 1041.08% to 10146734.71%
2025-06-23 20:03:41,147 - src.optimizer - INFO - Gap improved by 5050.12% to 10141684.59%
2025-06-23 20:03:41,174 - src.optimizer - INFO - Gap improved by 1613.35% to 10140071.25%
2025-06-23 20:03:41,179 - src.optimizer - INFO - Gap improved by 1450.84% to 10138620.41%
2025-06-23 20:03:41,184 - src.optimizer - INFO - Gap improved by 41.58% to 10138578.83%
2025-06-23 20:03:41,189 - src.optimizer - INFO - Gap improved by 23.53% to 10138555.30%
2025-06-23 20:03:41,193 - src.optimizer - INFO - Gap improved by 94.55% to 10138460.74%
2025-06-23 20:03:41,197 - src.optimizer - INFO - Gap improved by 2.48% to 10138458.26%
2025-06-23 20:03:41,329 - src.optimizer - INFO - Gap improved by 10750.67% to 10127707.60%
2025-06-23 20:03:41,343 - gurobipy - INFO - H 5172  4102                    1.153175e+08 1138.62307   100%   9.1    7s
2025-06-23 20:03:41,344 - src.optimizer - INFO - Gap improved by 5.62% to 10127701.97%
2025-06-23 20:03:41,348 - src.optimizer - INFO - Gap improved by 1689.90% to 10126012.07%
2025-06-23 20:03:41,355 - src.optimizer - INFO - Gap improved by 424.44% to 10125587.63%
2025-06-23 20:03:41,360 - src.optimizer - INFO - Gap improved by 11.30% to 10125576.33%
2025-06-23 20:03:41,417 - src.optimizer - INFO - Gap improved by 2601.37% to 10122974.96%
2025-06-23 20:03:41,448 - src.optimizer - INFO - Gap improved by 971.94% to 10122003.02%
2025-06-23 20:03:41,454 - src.optimizer - INFO - Gap improved by 123.68% to 10121879.34%
2025-06-23 20:03:41,460 - src.optimizer - INFO - Gap improved by 40.43% to 10121838.90%
2025-06-23 20:03:41,466 - src.optimizer - INFO - Gap improved by 62.75% to 10121776.15%
2025-06-23 20:03:41,471 - src.optimizer - INFO - Gap improved by 73.52% to 10121702.63%
2025-06-23 20:03:41,476 - src.optimizer - INFO - Gap improved by 19.74% to 10121682.89%
2025-06-23 20:03:41,541 - src.optimizer - INFO - Gap improved by 1416.22% to 10120266.67%
2025-06-23 20:03:41,558 - gurobipy - INFO - H 5183  3904                    9.131763e+07 1139.45960   100%   9.1    7s
2025-06-23 20:03:41,559 - src.optimizer - INFO - Gap improved by 2106249.33% to 8014017.34%
2025-06-23 20:03:41,565 - src.optimizer - INFO - Gap improved by 536.76% to 8013480.58%
2025-06-23 20:03:41,571 - src.optimizer - INFO - Gap improved by 1152.97% to 8012327.61%
2025-06-23 20:03:41,577 - src.optimizer - INFO - Gap improved by 84.00% to 8012243.61%
2025-06-23 20:03:41,582 - src.optimizer - INFO - Gap improved by 123.85% to 8012119.76%
2025-06-23 20:03:41,587 - src.optimizer - INFO - Gap improved by 24.27% to 8012095.49%
2025-06-23 20:03:41,651 - src.optimizer - INFO - Gap improved by 1540.55% to 8010554.94%
2025-06-23 20:03:41,671 - gurobipy - INFO - H 5189  3712                    9.131753e+07 1139.95211   100%   9.1    7s
2025-06-23 20:03:41,700 - src.optimizer - INFO - Gap improved by 8.51% to 8010546.42%
2025-06-23 20:03:41,705 - src.optimizer - INFO - Gap improved by 44.57% to 8010501.85%
2025-06-23 20:03:41,710 - src.optimizer - INFO - Gap improved by 46.71% to 8010455.14%
2025-06-23 20:03:41,713 - src.optimizer - INFO - Gap improved by 104.55% to 8010350.58%
2025-06-23 20:03:41,719 - src.optimizer - INFO - Gap improved by 2.71% to 8010347.88%
2025-06-23 20:03:41,776 - src.optimizer - INFO - Gap improved by 912.42% to 8009435.46%
2025-06-23 20:03:41,797 - gurobipy - INFO - H 5194  3528                    9.131749e+07 1140.11022   100%   9.1    8s
2025-06-23 20:03:41,797 - src.optimizer - INFO - Gap improved by 3.74% to 8009431.72%
2025-06-23 20:03:41,802 - src.optimizer - INFO - Gap improved by 776.97% to 8008654.75%
2025-06-23 20:03:41,809 - src.optimizer - INFO - Gap improved by 233.14% to 8008421.61%
2025-06-23 20:03:41,814 - src.optimizer - INFO - Gap improved by 86.58% to 8008335.03%
2025-06-23 20:03:41,820 - src.optimizer - INFO - Gap improved by 74.57% to 8008260.46%
2025-06-23 20:03:41,825 - src.optimizer - INFO - Gap improved by 29.98% to 8008230.48%
2025-06-23 20:03:41,830 - src.optimizer - INFO - Gap improved by 12.52% to 8008217.96%
2025-06-23 20:03:41,894 - src.optimizer - INFO - Gap improved by 697.19% to 8007520.26%
2025-06-23 20:03:42,003 - src.optimizer - INFO - Gap improved by 579.78% to 8006940.48%
2025-06-23 20:03:42,009 - src.optimizer - INFO - Gap improved by 75.32% to 8006865.16%
2025-06-23 20:03:42,015 - src.optimizer - INFO - Gap improved by 26.86% to 8006838.30%
2025-06-23 20:03:42,020 - src.optimizer - INFO - Gap improved by 21.47% to 8006816.84%
2025-06-23 20:03:42,180 - src.optimizer - INFO - Gap improved by 5587.65% to 8001229.19%
2025-06-23 20:03:42,209 - src.optimizer - INFO - Gap improved by 224.52% to 8001004.68%
2025-06-23 20:03:42,216 - src.optimizer - INFO - Gap improved by 86.44% to 8000918.23%
2025-06-23 20:03:42,221 - src.optimizer - INFO - Gap improved by 2.40% to 8000915.84%
2025-06-23 20:03:42,262 - src.optimizer - INFO - Gap improved by 984.98% to 7999930.86%
2025-06-23 20:03:42,275 - src.optimizer - INFO - Gap improved by 325.76% to 7999605.10%
2025-06-23 20:03:42,283 - src.optimizer - INFO - Gap improved by 371.26% to 7999233.84%
2025-06-23 20:03:42,289 - src.optimizer - INFO - Gap improved by 76.56% to 7999157.28%
2025-06-23 20:03:42,355 - src.optimizer - INFO - Gap improved by 10865.35% to 7988291.59%
2025-06-23 20:03:42,366 - src.optimizer - INFO - Gap improved by 931.10% to 7987360.48%
2025-06-23 20:03:42,374 - src.optimizer - INFO - Gap improved by 608.58% to 7986751.90%
2025-06-23 20:03:42,380 - src.optimizer - INFO - Gap improved by 517.93% to 7986233.97%
2025-06-23 20:03:42,386 - src.optimizer - INFO - Gap improved by 55.55% to 7986178.42%
2025-06-23 20:03:42,391 - src.optimizer - INFO - Gap improved by 10.07% to 7986168.34%
2025-06-23 20:03:42,396 - src.optimizer - INFO - Gap improved by 5.49% to 7986162.85%
2025-06-23 20:03:42,448 - src.optimizer - INFO - Gap improved by 1330.20% to 7984832.65%
2025-06-23 20:03:42,460 - src.optimizer - INFO - Gap improved by 410.30% to 7984422.35%
2025-06-23 20:03:42,512 - src.optimizer - INFO - Gap improved by 1102.72% to 7983319.63%
2025-06-23 20:03:42,525 - src.optimizer - INFO - Gap improved by 9.20% to 7983310.43%
2025-06-23 20:03:42,575 - src.optimizer - INFO - Gap improved by 356.35% to 7982954.08%
2025-06-23 20:03:42,586 - src.optimizer - INFO - Gap improved by 213.90% to 7982740.18%
2025-06-23 20:03:42,591 - src.optimizer - INFO - Gap improved by 47.09% to 7982693.09%
2025-06-23 20:03:42,594 - src.optimizer - INFO - Gap improved by 1.35% to 7982691.74%
2025-06-23 20:03:42,677 - src.optimizer - INFO - Gap improved by 2293.63% to 7980398.11%
2025-06-23 20:03:43,193 - src.optimizer - INFO - Gap improved by 2062.41% to 7978335.70%
2025-06-23 20:03:43,204 - src.optimizer - INFO - Gap improved by 2507.22% to 7975828.48%
2025-06-23 20:03:43,209 - src.optimizer - INFO - Gap improved by 43.86% to 7975784.62%
2025-06-23 20:03:43,214 - src.optimizer - INFO - Gap improved by 26.68% to 7975757.94%
2025-06-23 20:03:43,322 - src.optimizer - INFO - Gap improved by 2274.07% to 7973483.87%
2025-06-23 20:03:43,528 - src.optimizer - INFO - Gap improved by 1474.63% to 7972009.24%
2025-06-23 20:03:43,540 - src.optimizer - INFO - Gap improved by 1559.50% to 7970449.74%
2025-06-23 20:03:43,547 - src.optimizer - INFO - Gap improved by 508.73% to 7969941.01%
2025-06-23 20:03:43,553 - src.optimizer - INFO - Gap improved by 286.57% to 7969654.44%
2025-06-23 20:03:43,562 - src.optimizer - INFO - Gap improved by 121.96% to 7969532.48%
2025-06-23 20:03:43,568 - src.optimizer - INFO - Gap improved by 18.10% to 7969514.38%
2025-06-23 20:03:43,573 - src.optimizer - INFO - Gap improved by 4.91% to 7969509.47%
2025-06-23 20:03:43,621 - src.optimizer - INFO - Gap improved by 149.48% to 7969359.98%
2025-06-23 20:03:43,634 - src.optimizer - INFO - Gap improved by 58.81% to 7969301.17%
2025-06-23 20:03:43,637 - src.optimizer - INFO - Gap improved by 3.40% to 7969297.77%
2025-06-23 20:03:43,682 - src.optimizer - INFO - Gap improved by 857.42% to 7968440.35%
2025-06-23 20:03:43,690 - gurobipy - INFO -   5249  3565 1145.97512   49  294 9.1317e+07 1145.97512   100%   9.0   10s
2025-06-23 20:03:43,740 - src.optimizer - INFO - Gap improved by 554.01% to 7967886.34%
2025-06-23 20:03:43,754 - src.optimizer - INFO - Gap improved by 19.41% to 7967866.93%
2025-06-23 20:03:43,760 - src.optimizer - INFO - Gap improved by 212.17% to 7967654.76%
2025-06-23 20:03:43,782 - src.optimizer - INFO - Gap improved by 2.13% to 7967652.64%
2025-06-23 20:03:43,809 - src.optimizer - INFO - Gap improved by 295.20% to 7967357.44%
2025-06-23 20:03:43,856 - src.optimizer - INFO - Gap improved by 1067.27% to 7966290.17%
2025-06-23 20:03:44,056 - gurobipy - INFO - H 5257  3390                    9.131736e+07 1146.28443   100%   9.0   10s
2025-06-23 20:03:44,401 - src.optimizer - INFO - Gap improved by 11.17% to 7966279.00%
2025-06-23 20:03:44,492 - src.optimizer - INFO - Gap improved by 2170.27% to 7964108.73%
2025-06-23 20:03:44,528 - src.optimizer - INFO - Gap improved by 502.55% to 7963606.17%
2025-06-23 20:03:44,585 - src.optimizer - INFO - Gap improved by 692.70% to 7962913.48%
2025-06-23 20:03:44,643 - src.optimizer - INFO - Gap improved by 11066.91% to 7951846.56%
2025-06-23 20:03:44,728 - src.optimizer - INFO - Gap improved by 210.91% to 7951635.65%
2025-06-23 20:03:44,899 - gurobipy - INFO - H 5370  3299                    8.331758e+07 1148.39534   100%  10.6   11s
2025-06-23 20:03:44,899 - src.optimizer - INFO - Gap improved by 696605.63% to 7255030.02%
2025-06-23 20:03:45,034 - gurobipy - INFO - H 5412  3161                    8.331749e+07 1148.39534   100%  11.0   11s
2025-06-23 20:03:45,034 - src.optimizer - INFO - Gap improved by 7.52% to 7255022.50%
2025-06-23 20:03:46,431 - gurobipy - INFO - H 6047  3455                    1423.5637594 1148.39534  19.3%  14.8   12s
2025-06-23 20:03:46,431 - src.optimizer - INFO - Gap improved by 7254998.54% to 23.96%
2025-06-23 20:03:46,835 - gurobipy - INFO - H 6577  3659                    1409.6971691 1148.39534  18.5%  16.0   13s
2025-06-23 20:03:46,835 - src.optimizer - INFO - Gap improved by 1.21% to 22.75%
2025-06-23 20:03:47,907 - gurobipy - INFO - * 8007  4185              80    1407.2083138 1151.78635  18.2%  18.5   14s
2025-06-23 20:03:48,735 - gurobipy - INFO -   8945  4638 1376.68461  170   50 1407.20831 1151.78635  18.2%  19.5   15s
2025-06-23 20:03:49,061 - gurobipy - INFO - H 9315  3428                    1262.9041461 1153.54829  8.66%  19.5   15s
2025-06-23 20:03:49,061 - src.optimizer - INFO - Gap improved by 12.51% to 9.48%
2025-06-23 20:03:53,922 - gurobipy - INFO -  16676  7413     cutoff   68      1262.90415 1162.11452  7.98%  22.8   20s
2025-06-23 20:03:58,036 - gurobipy - INFO - H20228  9240                    1260.7708062 1163.68379  7.70%  23.7   24s
2025-06-23 20:03:58,067 - gurobipy - INFO - H20228  8778                    1249.5201567 1163.68379  6.87%  23.7   24s
2025-06-23 20:03:58,102 - gurobipy - INFO - H20228  8338                    1247.7423835 1163.68379  6.74%  23.7   24s
2025-06-23 20:03:58,103 - gurobipy - INFO - H20228  7920                    1247.2851603 1163.68379  6.70%  23.7   24s
2025-06-23 20:03:58,104 - gurobipy - INFO - H20228  7524                    1244.7708725 1163.68379  6.51%  23.7   24s
2025-06-23 20:03:58,180 - src.optimizer - INFO - Gap improved by 1.56% to 6.97%
2025-06-23 20:03:58,731 - gurobipy - INFO -  20253  7541 1244.77087  101  283 1244.77087 1163.68379  6.51%  23.6   25s
2025-06-23 20:04:03,687 - gurobipy - INFO -  20598  7747 1182.43829   62  257 1244.77087 1169.42063  6.05%  24.2   30s
2025-06-23 20:04:05,534 - gurobipy - INFO - *21355  7514              73    1242.8661762 1173.36480  5.59%  24.4   31s
2025-06-23 20:04:07,090 - gurobipy - INFO - H23342  7490                    1235.9328624 1179.67661  4.55%  24.5   33s
2025-06-23 20:04:07,091 - gurobipy - INFO - H23359  7076                    1232.5804988 1179.67661  4.29%  24.5   33s
2025-06-23 20:04:08,979 - gurobipy - INFO -  25899  7392     cutoff   72      1232.58050 1184.74006  3.88%  24.7   35s
2025-06-23 20:04:10,691 - gurobipy - INFO - H28623  7193                    1232.5804930 1188.51120  3.58%  24.8   37s
2025-06-23 20:04:13,730 - gurobipy - INFO -  32610  7299 1228.24377  101   28 1232.58049 1192.56256  3.25%  25.1   40s
2025-06-23 20:04:16,269 - gurobipy - INFO - H36982  7023                    1232.5804695 1196.64098  2.92%  24.9   42s
2025-06-23 20:04:18,691 - gurobipy - INFO -  41292  7819     cutoff   68      1232.58047 1199.86752  2.65%  24.9   45s
2025-06-23 20:04:24,016 - gurobipy - INFO -  50174  9167 1218.17605   83   49 1232.58047 1205.38138  2.21%  25.0   50s
2025-06-23 20:04:29,576 - gurobipy - INFO -  58672  9622 1211.25927   71   74 1232.58047 1209.96109  1.84%  24.9   55s
2025-06-23 20:04:33,757 - gurobipy - INFO -  67115  9519 1222.90372   69  191 1232.58047 1213.67218  1.53%  24.4   60s
2025-06-23 20:04:39,100 - gurobipy - INFO -  77294  7778     cutoff   78      1232.58047 1218.64041  1.13%  24.1   65s
2025-06-23 20:04:41,029 - src.optimizer - INFO - Optimization progress: 0.95% gap after 67.4 seconds
2025-06-23 20:04:44,243 - gurobipy - INFO -  88432  2532     cutoff   76      1232.58047 1225.55905  0.57%  23.6   70s
2025-06-23 20:04:47,084 - gurobipy - INFO - 
2025-06-23 20:04:47,085 - gurobipy - INFO - Cutting planes:
2025-06-23 20:04:47,085 - gurobipy - INFO -   Gomory: 4
2025-06-23 20:04:47,085 - gurobipy - INFO -   Lift-and-project: 43
2025-06-23 20:04:47,085 - gurobipy - INFO -   Cover: 132
2025-06-23 20:04:47,086 - gurobipy - INFO -   Clique: 2
2025-06-23 20:04:47,086 - gurobipy - INFO -   MIR: 143
2025-06-23 20:04:47,086 - gurobipy - INFO -   Mixing: 1
2025-06-23 20:04:47,086 - gurobipy - INFO -   Flow cover: 319
2025-06-23 20:04:47,086 - gurobipy - INFO -   GUB cover: 4
2025-06-23 20:04:47,086 - gurobipy - INFO -   Inf proof: 4
2025-06-23 20:04:47,087 - gurobipy - INFO -   Zero half: 76
2025-06-23 20:04:47,087 - gurobipy - INFO -   Mod-K: 1
2025-06-23 20:04:47,087 - gurobipy - INFO -   RLT: 63
2025-06-23 20:04:47,087 - gurobipy - INFO -   Relax-and-lift: 2
2025-06-23 20:04:47,087 - gurobipy - INFO -   Lazy constraints: 48
2025-06-23 20:04:47,090 - gurobipy - INFO - 
2025-06-23 20:04:47,090 - gurobipy - INFO - Explored 92517 nodes (2139547 simplex iterations) in 73.40 seconds (70.99 work units)
2025-06-23 20:04:47,090 - gurobipy - INFO - Thread count was 12 (of 12 available processors)
2025-06-23 20:04:47,090 - gurobipy - INFO - 
2025-06-23 20:04:47,091 - gurobipy - INFO - Solution count 10: 1232.58 1232.58 1235.93 ... 1262.9
2025-06-23 20:04:47,091 - gurobipy - INFO - 
2025-06-23 20:04:47,091 - gurobipy - INFO - Optimal solution found (tolerance 1.00e-04)
2025-06-23 20:04:47,092 - gurobipy - INFO - Best objective 1.232580469523e+03, best bound 1.232580469523e+03, gap 0.0000%
2025-06-23 20:04:47,094 - gurobipy - INFO - 
2025-06-23 20:04:47,094 - gurobipy - INFO - User-callback calls 198913, time in user-callback 0.75 sec
2025-06-23 20:04:47,096 - src.optimizer - INFO - Optimization successful, selected 52 edges
2025-06-23 20:04:47,096 - src.optimizer - INFO - After optimization model solving - Memory usage: 644.85 MB
2025-06-23 20:04:47,096 - __main__ - INFO - After optimization - Memory usage: 644.85 MB
2025-06-23 20:04:47,098 - __main__ - INFO - Added starting node at the end to close the tour
2025-06-23 20:04:47,099 - __main__ - INFO - Saved tour path with 53 points to output/path/path.txt
2025-06-23 20:04:47,099 - __main__ - INFO - Tour visits 51 unique nodes with 52 total steps
2025-06-23 20:04:47,099 - __main__ - INFO - Tour includes 1 revisited nodes (tie points)
2025-06-23 20:04:47,099 - __main__ - INFO - Creating VRF heatmap with optimized path overlay
2025-06-23 20:04:47,099 - src.visualizer - INFO - Creating visibility heatmaps
2025-06-23 20:04:47,103 - src.visualizer - INFO - Edge visibility range: 0 to 12 segments
2025-06-23 20:04:48,882 - src.visualizer - INFO - Saved edge visibility heatmap to output/visibility_heatmaps/1_edge_visibility_heatmap_20250623_200447.png
2025-06-23 20:04:48,885 - src.visualizer - INFO - Segment visibility range: 0 to 74 edges
2025-06-23 20:04:49,981 - src.visualizer - INFO - Saved segment visibility heatmap to output/visibility_heatmaps/2_segment_visibility_heatmap_20250623_200448.png
2025-06-23 20:04:49,985 - src.visualizer - INFO - Edge VRF range: 0.0000 to 1.2500
2025-06-23 20:04:51,846 - src.visualizer - INFO - Saved edge VRF heatmap to output/visibility_heatmaps/3_edge_vrf_heatmap_20250623_200450.png
2025-06-23 20:04:51,850 - src.visualizer - INFO - VRF with path overlay - VRF range: 0.0000 to 1.2500
2025-06-23 20:04:52,329 - __main__ - ERROR - Error during execution: draw_networkx_nodes() got an unexpected keyword argument 'zorder'
Traceback (most recent call last):
  File "/home/mo/thesis/My_Thesis/Versions/thesis_v24/main.py", line 519, in main
    visualizer.create_visibility_heatmaps(G, building, obstacles, segments, edge_visibility, segment_visibility, vrf, selected_edges)
  File "/home/mo/thesis/My_Thesis/Versions/thesis_v24/src/visualizer.py", line 411, in create_visibility_heatmaps
    self._plot_vrf_with_optimized_path(G, building, obstacles, vrf, selected_edges, heatmaps_dir)
  File "/home/mo/thesis/My_Thesis/Versions/thesis_v24/src/visualizer.py", line 295, in _plot_vrf_with_optimized_path
    nx.draw_networkx_nodes(G.subgraph(unselected_nodes), unselected_pos,
TypeError: draw_networkx_nodes() got an unexpected keyword argument 'zorder'
2025-06-23 20:04:52,331 - src.visualizer - INFO - Creating visualization
2025-06-23 20:04:54,692 - src.visualizer - INFO - Saved plot to output/plots/result_plot_20250623_200452.png
2025-06-23 20:05:13,174 - __main__ - INFO - Disposed Gurobi optimization model
2025-06-23 20:05:13,175 - __main__ - INFO - Before cleanup - Memory usage: 663.72 MB
2025-06-23 20:05:13,282 - __main__ - INFO - After cleanup - Memory usage: 646.75 MB
